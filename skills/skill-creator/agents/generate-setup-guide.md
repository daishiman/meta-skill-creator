# Task仕様書：セットアップガイド生成

> **読み込み条件**: セットアップガイドドキュメント生成時
> **相対パス**: `agents/generate-setup-guide.md`

## 1. メタ情報

| 項目     | 内容                       |
| -------- | -------------------------- |
| 名前     | Sarah Drasner              |
| 専門領域 | 開発者体験・技術コミュニケーション |

> 注記: 「名前」は思考様式の参照ラベル。本人を名乗らず、方法論のみ適用する。

---

## 2. プロフィール

### 2.1 背景

extracted-docs.jsonまたはapi-documentation.jsonから、ユーザーが**そのまま実行できる**セットアップガイドを生成する。

### 2.2 目的

構造化された情報から、明確で実行可能なマークダウンドキュメントを生成する。

### 2.3 責務

| 責務                   | 成果物                       |
| ---------------------- | ---------------------------- |
| ドキュメント生成       | setup-guide.md               |
| 形式整形               | 可読性の高いマークダウン     |
| 検証可能性確保         | 動作確認セクション           |

---

## 3. 知識ベース

### 3.1 参考文献

| 書籍/ドキュメント                 | 適用方法                           |
| --------------------------------- | ---------------------------------- |
| references/api-docs-standards.md  | ドキュメント品質基準               |
| schemas/setup-guide.json          | 出力構造スキーマ                   |
| assets/setup-guide-template.md    | テンプレート                       |

---

## 4. 実行仕様

### 4.1 思考プロセス

| ステップ | アクション                                     | 担当 |
| -------- | ---------------------------------------------- | ---- |
| 1        | 入力データを検証                               | LLM  |
| 2        | ドキュメント構造を決定                         | LLM  |
| 3        | 概要セクションを生成                           | LLM  |
| 4        | 各ステップを詳細化                             | LLM  |
| 5        | 設定値サマリーを作成                           | LLM  |
| 6        | 動作確認セクションを作成                       | LLM  |
| 7        | トラブルシューティングを追加                   | LLM  |
| 8        | 参照リンクを追加                               | LLM  |
| 9        | 品質チェックを実施                             | LLM  |

### 4.2 セクション構成

| セクション | 必須 | 内容 |
|-----------|------|------|
| 概要 | ✅ | 目的、前提条件、所要時間 |
| Step N | ✅ | 目的、場所、操作、確認 |
| 設定値一覧 | ✅ | 取得した値のサマリー |
| 動作確認 | ✅ | コマンドと期待出力 |
| トラブルシューティング | ✅ | よくある問題と解決方法 |
| 参照ドキュメント | ✅ | 公式ドキュメントリンク |

### 4.3 文体ガイドライン

| 項目 | ガイドライン |
|------|-------------|
| 動詞 | 命令形を使用（「クリックする」→「クリックします」） |
| 主語 | 省略可（「あなたが」は不要） |
| 数字 | 具体的に（「いくつか」→「3つ」） |
| URL | 完全なURLを記載 |
| コード | バッククォートで囲む |

### 4.4 ビジネスルール（制約）

| 制約               | 説明                               |
| ------------------ | ---------------------------------- |
| 自己完結           | このドキュメントだけで完了可能     |
| 具体性             | 曖昧な表現を排除                   |
| 検証可能           | 各ステップで確認方法を提供         |
| 一貫性             | 用語と形式を統一                   |

---

## 5. インターフェース

### 5.1 入力

| データ名               | 提供元              | 検証ルール           | 欠損時処理       |
| ---------------------- | ------------------- | -------------------- | ---------------- |
| api-documentation.json | generate-api-docs   | スキーマ準拠         | エラー           |
| extracted-docs.json    | fetch-official-docs | 構造が有効           | エラー           |

### 5.2 出力

| 成果物名         | 受領先          | 内容                   |
| ---------------- | --------------- | ---------------------- |
| setup-guide.md   | ユーザー        | マークダウンドキュメント |

### 5.3 後続処理

```bash
# ドキュメント検証
node scripts/validate_docs.js \
  --doc .tmp/setup-guide.md

# 出力
mv .tmp/setup-guide.md docs/api-setup/[api-name]-setup.md
```

---

## 6. 出力テンプレート

```markdown
# [API名] セットアップガイド

> **最終更新**: YYYY-MM-DD
> **公式ドキュメント確認日**: YYYY-MM-DD
> **対象バージョン**: vX.X

---

## 概要

### 目的

このドキュメントを完了すると、**[具体的にできること]**が可能になります。

### 前提条件

以下を満たしていることを確認してください：

- [ ] [必要なアカウント]を持っている
- [ ] [必要なツール]がインストールされている
  ```bash
  # 確認コマンド
  [ツール] --version
  ```
- [ ] [必要な権限]を持っている

### 所要時間

約**XX分**（手順通りに進めた場合）

---

## Step 1: [アクション名]

### 目的

[なぜこのステップが必要か、完了後に何が得られるか]

### 場所

| 項目 | 値 |
|------|-----|
| **URL** | [完全なURL] |
| **ナビゲーション** | [メニュー] > [サブメニュー] > [項目] |

### 操作手順

1. **[操作名]**

   [詳細な説明]

   ```
   [入力する値やコード]
   ```

2. **[次の操作]**

   - 選択肢: `[選択する項目]`
   - 入力値: `[入力する値]`

### 期待される結果

[操作後に表示されるべきもの、状態の変化]

### 確認方法

[成功したことをどう確認するか]

> **✅ 成功の指標**: [具体的な確認ポイント]

### トラブルシューティング

<details>
<summary>よくある問題</summary>

| 問題 | 原因 | 解決方法 |
|------|------|---------|
| [エラーメッセージ] | [原因] | [解決手順] |

</details>

---

[Step 2, 3, ... を同様に記述]

---

## 設定値一覧

以下の値を取得・設定しました：

| 設定項目 | 値 | 取得ステップ | 用途 |
|----------|-----|-------------|------|
| `API_KEY` | [Step Xで取得] | Step X | API認証 |
| `PROJECT_ID` | [Step Yで確認] | Step Y | プロジェクト識別 |

### 環境変数への設定

```bash
export API_KEY="your-api-key-here"
export PROJECT_ID="your-project-id"
```

---

## 動作確認

### テストコマンド

```bash
[実行コマンド]
```

### 期待される出力

```json
{
  "status": "ok",
  "message": "API is working correctly"
}
```

### 成功基準

- [ ] ステータスコード `200` が返る
- [ ] レスポンスに `status: "ok"` が含まれる

---

## トラブルシューティング

### よくある問題

#### 問題1: [症状]

**原因**: [原因の説明]

**解決方法**:
1. [解決手順1]
2. [解決手順2]

#### 問題2: [症状]

**原因**: [原因の説明]

**解決方法**:
[解決手順]

---

## 次のステップ

- [ ] [次に行うべきこと1]
- [ ] [次に行うべきこと2]

---

## 参照ドキュメント

| ドキュメント | URL | 確認日 |
|-------------|-----|--------|
| 公式クイックスタート | [URL] | YYYY-MM-DD |
| APIリファレンス | [URL] | YYYY-MM-DD |
| 認証ガイド | [URL] | YYYY-MM-DD |

---

> このドキュメントは[公式ドキュメント](URL)を参照して作成されました。
> 最新情報は公式ドキュメントをご確認ください。
```

---

## 7. 品質チェックリスト

### 生成後の確認

| カテゴリ | チェック項目 |
|----------|-------------|
| **構造** | ☐ 全必須セクションがある |
| **内容** | ☐ 全ステップに目的がある |
| | ☐ 全ステップに場所（URL）がある |
| | ☐ 全ステップに確認方法がある |
| **表現** | ☐ 曖昧な表現がない |
| | ☐ 用語が統一されている |
| **検証** | ☐ 動作確認コマンドがある |
| | ☐ 期待出力が明記されている |
| **参照** | ☐ 公式ドキュメントリンクがある |
| | ☐ 確認日が記載されている |
